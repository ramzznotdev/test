<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RamzzBotz - AI Assistant</title>
    <meta name="description" content="RamzzBotz adalah asisten AI canggih yang membantu Anda dengan pemrograman, tugas, dan analisis file">
    <meta name="keywords" content="AI assistant, chatbot, pemrograman, tugas sekolah, analisis file, Groq AI">
    <meta name="author" content="Ramzz">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¤–</text></svg>">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Stylesheet -->
    <style>
        /* CSS akan ditempatkan di sini */
        :root {
            --primary-color: #7c3aed;
            --primary-light: #8b5cf6;
            --primary-dark: #6d28d9;
            --secondary-color: #a855f7;
            --accent-color: #06d6a0;
            --accent-light: #0debb5;
            --neon-color: #00f5ff;
            --neon-glow: 0 0 10px rgba(0, 245, 255, 0.7);
            --background: #f8fafc;
            --surface: #ffffff;
            --card-bg: #ffffff;
            --sidebar-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --border-light: #f1f5f9;
            --divider-color: #e2e8f0;
            --code-bg: #f1f5f9;
            --code-border: #cbd5e1;
            --code-text: #1e293b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --info-color: #3b82f6;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 7px 14px -3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --sidebar-width: 300px;
            --border-radius: 12px;
            --border-radius-sm: 8px;
            --border-radius-lg: 16px;
            --transition: all 0.3s ease;
            --transition-slow: all 0.5s ease;
            --transition-fast: all 0.15s ease;
        }

        [data-theme="dark"] {
            --background: #0f172a;
            --surface: #1e293b;
            --card-bg: #1e293b;
            --sidebar-bg: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --border-light: #334155;
            --divider-color: #334155;
            --code-bg: #1e293b;
            --code-border: #475569;
            --code-text: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 7px 14px -3px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            transition: var(--transition);
        }

        .app-container {
            display: flex;
            height: 100vh;
            position: relative;
            background: var(--background);
        }

        .sidebar {
            width: var(--sidebar-width);
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
            z-index: 100;
            box-shadow: var(--shadow-md);
        }

        .sidebar-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            font-size: 1.5rem;
        }

        .sidebar-header h2 {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0;
        }

        .close-sidebar {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: var(--border-radius-sm);
            transition: var(--transition);
            display: none;
        }

        .close-sidebar:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .sidebar-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .new-chat-btn {
            margin: 1.25rem;
            padding: 0.875rem 1.25rem;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: var(--shadow);
        }

        .new-chat-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .chat-history {
            flex: 1;
            padding: 0 1rem;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.5rem 0;
        }

        .section-header h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin: 0;
        }

        .icon-button {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.375rem;
            border-radius: var(--border-radius-sm);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-button:hover {
            color: var(--text-primary);
            background: var(--background);
        }

        .history-list {
            flex: 1;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        .empty-state {
            text-align: center;
            padding: 2rem 1rem;
            color: var(--text-muted);
        }

        .empty-state i {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            opacity: 0.5;
        }

        .history-item {
            padding: 0.875rem;
            margin-bottom: 0.5rem;
            background: var(--background);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .history-item:hover {
            background: var(--primary-light);
            color: white;
            border-left-color: var(--neon-color);
            transform: translateX(4px);
        }

        .history-item.active {
            background: var(--primary-color);
            color: white;
            border-left-color: var(--neon-color);
        }

        .history-item-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-item-date {
            font-size: 0.75rem;
            color: inherit;
            opacity: 0.8;
        }

        .sidebar-footer {
            padding: 1.25rem;
            border-top: 1px solid var(--border-color);
        }

        .api-key-container {
            margin-bottom: 1.5rem;
        }

        .api-key-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .api-key-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            background: var(--background);
            color: var(--text-primary);
            font-family: 'Fira Code', monospace;
            font-size: 0.875rem;
            transition: var(--transition);
            margin-bottom: 0.5rem;
        }

        .api-key-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }

        .api-key-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            margin-bottom: 0.5rem;
            padding: 0.375rem 0.5rem;
            border-radius: var(--border-radius-sm);
            background: var(--background);
        }

        .api-key-container small {
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .sidebar-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            color: var(--text-secondary);
            border-radius: var(--border-radius);
            transition: var(--transition);
            background: none;
            border: none;
            cursor: pointer;
            text-align: left;
            width: 100%;
            font-size: 0.95rem;
        }

        .sidebar-link:hover {
            background: var(--background);
            color: var(--text-primary);
        }

        .app-info {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .copyright {
            margin-top: 0.25rem;
            opacity: 0.7;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--background);
            overflow: hidden;
        }

        .top-nav {
            padding: 1rem 1.5rem;
            background: var(--surface);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-sm);
            z-index: 10;
        }

        .menu-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: var(--border-radius-sm);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .menu-toggle:hover {
            background: var(--background);
            color: var(--primary-color);
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-brand h1 {
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
        }

        .connection-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success-color);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
            100% {
                opacity: 1;
            }
        }

        .nav-actions {
            display: flex;
            gap: 0.5rem;
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 0.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .theme-toggle:hover {
            background: var(--primary-color);
            color: white;
        }

        .chat-container {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            scroll-behavior: smooth;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .welcome-message {
            display: flex;
            gap: 1.25rem;
            margin-bottom: 1.5rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: var(--border-radius-lg);
            color: white;
            box-shadow: var(--shadow-lg);
            animation: fadeIn 0.5s ease;
        }

        .bot-avatar {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            flex-shrink: 0;
        }

        .welcome-message .message-content h3 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .welcome-message .message-content ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .welcome-message .message-content li {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .warning-message {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            margin: 1.25rem 0;
        }

        .warning-message i {
            color: var(--warning-color);
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .quick-starters {
            margin-top: 1.5rem;
        }

        .quick-starters h4 {
            margin-bottom: 1rem;
            font-size: 1.125rem;
        }

        .starter-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.75rem;
        }

        .starter-btn {
            padding: 0.875rem 1rem;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            color: white;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-align: center;
            font-size: 0.9rem;
        }

        .starter-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .message {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.5s ease;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            flex-shrink: 0;
            margin-top: 0.25rem;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .message-content {
            max-width: 75%;
            background: var(--surface);
            padding: 1.25rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
        }

        .message.bot .message-content {
            border-left: 4px solid var(--primary-color);
            background: var(--surface);
        }

        .message-input-container {
            padding: 1.25rem 1.5rem;
            background: var(--surface);
            border-top: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
        }

        .input-wrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--background);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            padding: 0.75rem;
            transition: var(--transition);
            margin-bottom: 1rem;
        }

        .input-wrapper:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }

        .file-upload-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .file-upload-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        .message-input-wrapper {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
        }

        #messageInput {
            flex: 1;
            border: none;
            outline: none;
            padding: 0.75rem;
            font-size: 1rem;
            background: transparent;
            color: var(--text-primary);
            font-weight: 500;
        }

        #messageInput::placeholder {
            color: var(--text-secondary);
            opacity: 0.8;
        }

        .send-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 46px;
            height: 46px;
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .file-preview {
            margin-bottom: 1rem;
            padding: 1rem;
            background: var(--background);
            border-radius: var(--border-radius);
            border: 2px dashed var(--border-color);
            display: none;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .file-info i {
            color: var(--primary-color);
            font-size: 1.25rem;
        }

        .file-name {
            flex: 1;
            font-weight: 600;
            color: var(--text-primary);
        }

        .file-actions {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .file-size {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .remove-file {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.375rem;
            border-radius: 50%;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-file:hover {
            background: var(--error-color);
            color: white;
        }

        .chat-suggestions {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-light);
        }

        .chat-suggestions p {
            margin-bottom: 0.75rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .suggestion-chip {
            padding: 0.5rem 1rem;
            background: var(--background);
            border: 1px solid var(--border-color);
            border-radius: 2rem;
            color: var(--text-primary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .suggestion-chip:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-spinner {
            text-align: center;
            color: white;
            background: var(--surface);
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-xl);
            min-width: 300px;
        }

        .spinner-animation {
            font-size: 3rem;
            color: var(--neon-color);
            margin-bottom: 1rem;
        }

        .loading-spinner p {
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .loading-dots {
            display: flex;
            justify-content: center;
            gap: 4px;
        }

        .loading-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--neon-color);
            animation: loadingBounce 1.4s infinite ease-in-out;
        }

        .loading-dots span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes loadingBounce {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                transform: translateX(-100%);
                z-index: 100;
            }

            .sidebar.show {
                transform: translateX(0);
            }

            .close-sidebar {
                display: flex;
            }

            .main-content {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            :root {
                --sidebar-width: 280px;
            }

            .top-nav {
                padding: 0.875rem 1rem;
            }

            .nav-brand h1 {
                font-size: 1.25rem;
            }

            .chat-messages {
                padding: 1rem;
            }

            .welcome-message {
                padding: 1.5rem;
                flex-direction: column;
                text-align: center;
            }

            .bot-avatar {
                align-self: center;
            }

            .message-content {
                max-width: 85%;
            }

            .message-input-container {
                padding: 1rem;
            }

            .starter-buttons {
                grid-template-columns: 1fr;
            }

            .suggestion-chips {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                width: 100%;
            }

            .message {
                gap: 0.75rem;
            }

            .message-avatar {
                width: 36px;
                height: 36px;
                font-size: 1rem;
            }

            .message-content {
                max-width: 90%;
                padding: 1rem;
            }

            .input-wrapper {
                padding: 0.5rem;
            }

            .send-btn {
                width: 40px;
                height: 40px;
            }
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner-animation">
                <i class="fas fa-robot fa-spin"></i>
            </div>
            <p>RamzzBotzz sedang berpikir...</p>
            <div class="loading-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <i class="fas fa-robot logo-icon"></i>
                    <h2>RamzzBotzz</h2>
                </div>
                <button class="close-sidebar" id="closeSidebar" aria-label="Tutup sidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="sidebar-content">
                <button class="new-chat-btn" id="newChatBtn">
                    <i class="fas fa-plus"></i> Chat Baru
                </button>
                
                <div class="chat-history">
                    <div class="section-header">
                        <h3><i class="fas fa-history"></i> Riwayat Percakapan</h3>
                        <button class="icon-button" id="clearHistoryBtn" title="Hapus semua riwayat">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <div class="history-list" id="historyList">
                        <div class="empty-state">
                            <i class="fas fa-comments"></i>
                            <p>Belum ada percakapan</p>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-footer">
                    <div class="api-key-container">
                        <div class="section-header">
                            <label class="api-key-label" for="apiKeyInput">
                                <i class="fas fa-key"></i> Groq API Key
                            </label>
                            <button class="icon-button" id="toggleApiKeyVisibility" title="Toggle visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <input type="password" id="apiKeyInput" class="api-key-input" placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" autocomplete="off">
                        <div class="api-key-status" id="apiKeyStatus">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>API key belum diatur</span>
                        </div>
                        <small>Dapatkan API key dari <a href="https://console.groq.com" target="_blank">Groq Console</a></small>
                    </div>
                    
                    <div class="sidebar-links">
                        <a href="dashboard.html" class="sidebar-link">
                            <i class="fas fa-chart-bar"></i>
                            <span>Dashboard</span>
                        </a>
                        <a href="profil.html" class="sidebar-link">
                            <i class="fas fa-user"></i>
                            <span>Profil</span>
                        </a>
                        <a href="pengaturan.html" class="sidebar-link">
                            <i class="fas fa-cog"></i>
                            <span>Pengaturan</span>
                        </a>
                        <a href="docs.html" class="sidebar-link">
                            <i class="fas fa-book"></i>
                            <span>Dokumentasi</span>
                        </a>
                        <button class="sidebar-link" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Keluar</span>
                        </button>
                    </div>
                    
                    <div class="app-info">
                        <p>RamzzBotz v1.0.0</p>
                        <p class="copyright">&copy; 2023 Ramzz. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-nav">
                <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="nav-brand">
                    <h1>Ramzz AI Assistant</h1>
                    <div class="connection-status" id="connectionStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">Terhubung</span>
                    </div>
                </div>
                
                <div class="nav-actions">
                    <button class="icon-button" id="clearChatBtn" title="Bersihkan percakapan">
                        <i class="fas fa-broom"></i>
                    </button>
                    <button class="icon-button" id="exportChatBtn" title="Ekspor percakapan">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </header>

            <section class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <article class="welcome-message">
                        <div class="bot-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <h3>Selamat datang di RamzzBotzz! ðŸ‘‹</h3>
                            <p>Saya adalah asisten AI Anda yang dibuat oleh @Ramzz. Saya dapat membantu Anda dengan:</p>
                            <ul>
                                <li><i class="fas fa-code"></i> Pemrograman dan debugging kode</li>
                                <li><i class="fas fa-graduation-cap"></i> Mengerjakan tugas sekolah/kuliah</li>
                                <li><i class="fas fa-question-circle"></i> Menjawab pertanyaan umum</li>
                                <li><i class="fas fa-file"></i> Menganalisis file dan dokumen</li>
                            </ul>
                            <div class="warning-message">
                                <i class="fas fa-exclamation-triangle"></i>
                                <p><strong>Penting:</strong> Silakan atur Groq API key Anda di sidebar untuk mulai menggunakan asisten.</p>
                            </div>
                            <div class="quick-starters">
                                <h4>Percobaan Cepat:</h4>
                                <div class="starter-buttons">
                                    <button class="starter-btn" data-prompt="Bantu saya buat website HTML/CSS untuk toko online">
                                        <i class="fas fa-store"></i> Website Toko
                                    </button>
                                    <button class="starter-btn" data-prompt="Jelaskan konsep machine learning untuk pemula">
                                        <i class="fas fa-brain"></i> Machine Learning
                                    </button>
                                    <button class="starter-btn" data-prompt="Bantu saya debug kode JavaScript berikut">
                                        <i class="fas fa-bug"></i> Debug Kode
                                    </button>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <footer class="message-input-container">
                <div class="input-wrapper">
                    <input type="file" id="fileInput" accept="*/*" class="hidden">
                    <button class="file-upload-btn" id="fileUploadBtn" title="Unggah file" aria-label="Unggah file">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    
                    <div class="message-input-wrapper">
                        <input type="text" id="messageInput" placeholder="Ketik pesan Anda..." aria-label="Pesan input">
                    </div>
                    
                    <button class="send-btn" id="sendBtn" aria-label="Kirim pesan">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <div class="file-preview" id="filePreview">
                    <div class="file-info">
                        <i class="fas fa-file"></i>
                        <span class="file-name" id="fileName"></span>
                        <div class="file-actions">
                            <span class="file-size" id="fileSize"></span>
                            <button class="remove-file" id="removeFile" aria-label="Hapus file">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="chat-suggestions" id="chatSuggestions">
                    <p>Coba tanyakan: </p>
                    <div class="suggestion-chips">
                        <button class="suggestion-chip" data-query="Bagaimana cara membuat website responsive?">Website Responsive</button>
                        <button class="suggestion-chip" data-query="Jelaskan apa itu API REST">Apa itu API REST?</button>
                        <button class="suggestion-chip" data-query="Bantu saya dengan tugas matematika tentang aljabar">Tugas Matematika</button>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // Inisialisasi variabel global
        let currentConversationId = null;
        let chatHistory = [];
        let apiKey = '';
        let conversations = [];
        let selectedFile = null;

        // DOM Elements
        const elements = {
            sidebar: document.getElementById('sidebar'),
            closeSidebar: document.getElementById('closeSidebar'),
            menuToggle: document.getElementById('menuToggle'),
            newChatBtn: document.getElementById('newChatBtn'),
            historyList: document.getElementById('historyList'),
            apiKeyInput: document.getElementById('apiKeyInput'),
            apiKeyStatus: document.getElementById('apiKeyStatus'),
            toggleApiKeyVisibility: document.getElementById('toggleApiKeyVisibility'),
            themeToggle: document.getElementById('themeToggle'),
            fileInput: document.getElementById('fileInput'),
            fileUploadBtn: document.getElementById('fileUploadBtn'),
            messageInput: document.getElementById('messageInput'),
            sendBtn: document.getElementById('sendBtn'),
            filePreview: document.getElementById('filePreview'),
            fileName: document.getElementById('fileName'),
            fileSize: document.getElementById('fileSize'),
            removeFile: document.getElementById('removeFile'),
            chatMessages: document.getElementById('chatMessages'),
            clearHistoryBtn: document.getElementById('clearHistoryBtn'),
            clearChatBtn: document.getElementById('clearChatBtn'),
            exportChatBtn: document.getElementById('exportChatBtn'),
            logoutBtn: document.getElementById('logoutBtn'),
            loadingOverlay: document.getElementById('loadingOverlay'),
            suggestionChips: document.querySelectorAll('.suggestion-chip'),
            starterBtns: document.querySelectorAll('.starter-btn')
        };

        // Inisialisasi aplikasi
        function initApp() {
            bindEvents();
            loadChatHistory();
            createNewConversation();
            loadApiKey();
            loadTheme();
        }

        // Bind events
        function bindEvents() {
            // Sidebar events
            elements.menuToggle.addEventListener('click', toggleSidebar);
            elements.closeSidebar.addEventListener('click', toggleSidebar);
            elements.newChatBtn.addEventListener('click', createNewConversation);
            
            // Theme toggle
            elements.themeToggle.addEventListener('click', toggleTheme);
            
            // API Key events
            elements.apiKeyInput.addEventListener('change', handleApiKeyChange);
            elements.toggleApiKeyVisibility.addEventListener('click', toggleApiKeyVisibility);
            
            // File events
            elements.fileUploadBtn.addEventListener('click', () => elements.fileInput.click());
            elements.fileInput.addEventListener('change', handleFileUpload);
            elements.removeFile.addEventListener('click', removeFile);
            
            // Message events
            elements.messageInput.addEventListener('keypress', handleMessageKeypress);
            elements.sendBtn.addEventListener('click', sendMessage);
            
            // History events
            elements.clearHistoryBtn.addEventListener('click', clearHistory);
            elements.clearChatBtn.addEventListener('click', clearChat);
            elements.exportChatBtn.addEventListener('click', exportChat);
            
            // Logout event
            elements.logoutBtn.addEventListener('click', handleLogout);
            
            // Suggestion chips
            elements.suggestionChips.forEach(chip => {
                chip.addEventListener('click', () => {
                    elements.messageInput.value = chip.getAttribute('data-query');
                    sendMessage();
                });
            });
            
            // Starter buttons
            elements.starterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    elements.messageInput.value = btn.getAttribute('data-prompt');
                    sendMessage();
                });
            });
            
            // Click outside sidebar to close (mobile)
            document.addEventListener('click', (e) => {
                if (window.innerWidth <= 1024 && 
                    !elements.sidebar.contains(e.target) && 
                    !elements.menuToggle.contains(e.target) && 
                    elements.sidebar.classList.contains('show')) {
                    elements.sidebar.classList.remove('show');
                }
            });
        }

        // Toggle sidebar
        function toggleSidebar() {
            elements.sidebar.classList.toggle('show');
        }

        // Toggle theme
        function toggleTheme() {
            const body = document.body;
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                elements.themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                elements.themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load theme from localStorage
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                elements.themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        // Handle API key change
        function handleApiKeyChange(e) {
            apiKey = e.target.value.trim();
            localStorage.setItem('groqApiKey', apiKey);
            updateApiKeyStatus();
        }

        // Toggle API key visibility
        function toggleApiKeyVisibility() {
            if (elements.apiKeyInput.type === 'password') {
                elements.apiKeyInput.type = 'text';
                elements.toggleApiKeyVisibility.innerHTML = '<i class="fas fa-eye-slash"></i>';
            } else {
                elements.apiKeyInput.type = 'password';
                elements.toggleApiKeyVisibility.innerHTML = '<i class="fas fa-eye"></i>';
            }
        }

        // Update API key status
        function updateApiKeyStatus() {
            if (apiKey) {
                elements.apiKeyStatus.innerHTML = '<i class="fas fa-check-circle"></i><span>API key tersimpan</span>';
                elements.apiKeyStatus.className = 'api-key-status valid';
            } else {
                elements.apiKeyStatus.innerHTML = '<i class="fas fa-exclamation-circle"></i><span>API key belum diatur</span>';
                elements.apiKeyStatus.className = 'api-key-status';
            }
        }

        // Load API key from localStorage
        function loadApiKey() {
            const savedApiKey = localStorage.getItem('groqApiKey');
            if (savedApiKey) {
                apiKey = savedApiKey;
                elements.apiKeyInput.value = savedApiKey;
            }
            updateApiKeyStatus();
        }

        // Handle file upload
        function handleFileUpload(e) {
            const file = e.target.files[0];
            if (!file) return;

            selectedFile = file;
            elements.fileName.textContent = file.name;
            elements.fileSize.textContent = formatFileSize(file.size);
            elements.filePreview.style.display = 'block';
        }

        // Remove file
        function removeFile() {
            elements.fileInput.value = '';
            elements.filePreview.style.display = 'none';
            selectedFile = null;
        }

        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Handle message keypress
        function handleMessageKeypress(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }

        // Send message
        function sendMessage() {
            const message = elements.messageInput.value.trim();
            if (!message && !selectedFile) return;

            // Add user message to chat
            addMessage('user', message, selectedFile);

            // Clear input
            elements.messageInput.value = '';
            removeFile();

            // Show loading
            showLoading(true);

            // Simulate AI response (in a real app, this would call an API)
            setTimeout(() => {
                const responses = [
                    "Hai! Saya RamzzBotz. Ada yang bisa saya bantu?",
                    "Saya di sini untuk membantu Anda dengan pertanyaan atau masalah Anda.",
                    "Terima kasih telah menghubungi saya. Bagaimana saya bisa membantu Anda hari ini?",
                    "Saya sedang menganalisis permintaan Anda. Mohon tunggu sebentar...",
                    "Pertanyaan yang menarik! Mari kita bahas lebih lanjut."
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                addMessage('bot', randomResponse);
                showLoading(false);
            }, 2000);
        }

        // Add message to chat
        function addMessage(sender, text, file = null) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            const avatarDiv = document.createElement('div');
            avatarDiv.className = 'message-avatar';
            avatarDiv.innerHTML = sender === 'user' ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>';

            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';

            if (file && sender === 'user') {
                const fileDiv = document.createElement('div');
                fileDiv.className = 'file-attachment';
                fileDiv.innerHTML = `<i class="fas fa-file"></i> <span>${file.name} (${formatFileSize(file.size)})</span>`;
                contentDiv.appendChild(fileDiv);
            }

            if (text) {
                const textDiv = document.createElement('div');
                textDiv.textContent = text;
                contentDiv.appendChild(textDiv);
            }

            messageDiv.appendChild(avatarDiv);
            messageDiv.appendChild(contentDiv);
            elements.chatMessages.appendChild(messageDiv);

            // Scroll to bottom
            elements.chatMessages.scrollTop = elements.chatMessages.scrollHeight;
        }

        // Show loading overlay
        function showLoading(show) {
            elements.loadingOverlay.style.display = show ? 'flex' : 'none';
        }

        // Create new conversation
        function createNewConversation() {
            currentConversationId = Date.now().toString();
            const conversation = {
                id: currentConversationId,
                title: 'Percakapan Baru',
                messages: [],
                createdAt: new Date()
            };

            conversations.unshift(conversation);
            clearChat();
            updateChatHistory();
            saveChatHistory();
        }

        // Clear chat
        function clearChat() {
            // Keep only the welcome message
            const welcomeMessage = elements.chatMessages.querySelector('.welcome-message');
            elements.chatMessages.innerHTML = '';
            if (welcomeMessage) {
                elements.chatMessages.appendChild(welcomeMessage);
            }
        }

        // Clear history
        function clearHistory() {
            if (confirm('Apakah Anda yakin ingin menghapus semua riwayat percakapan?')) {
                conversations = [];
                elements.historyList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-comments"></i>
                        <p>Belum ada percakapan</p>
                    </div>
                `;
                localStorage.removeItem('ramzzConversations');
            }
        }

        // Export chat
        function exportChat() {
            const chatContent = elements.chatMessages.innerText;
            const blob = new Blob([chatContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ramzzbotz-chat-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Update chat history
        function updateChatHistory() {
            elements.historyList.innerHTML = '';

            if (conversations.length === 0) {
                elements.historyList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-comments"></i>
                        <p>Belum ada percakapan</p>
                    </div>
                `;
                return;
            }

            conversations.forEach(conversation => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                if (conversation.id === currentConversationId) {
                    historyItem.classList.add('active');
                }

                historyItem.innerHTML = `
                    <div class="history-item-title">${conversation.title}</div>
                    <div class="history-item-date">${formatDate(conversation.createdAt)}</div>
                `;

                historyItem.addEventListener('click', () => {
                    loadConversation(conversation.id);
                });

                elements.historyList.appendChild(historyItem);
            });
        }

        // Load conversation
        function loadConversation(conversationId) {
            const conversation = conversations.find(c => c.id === conversationId);
            if (!conversation) return;

            currentConversationId = conversationId;
            clearChat();

            conversation.messages.forEach(msg => {
                addMessage(msg.sender, msg.text, msg.file);
            });

            updateChatHistory();
            
            if (window.innerWidth <= 1024) {
                elements.sidebar.classList.remove('show');
            }
        }

        // Format date
        function formatDate(date) {
            const now = new Date();
            const diff = now - new Date(date);
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            
            if (days === 0) return 'Hari ini';
            if (days === 1) return 'Kemarin';
            if (days < 7) return `${days} hari yang lalu`;
            
            return new Date(date).toLocaleDateString('id-ID');
        }

        // Save chat history
        function saveChatHistory() {
            try {
                localStorage.setItem('ramzzConversations', JSON.stringify(conversations));
            } catch (error) {
                console.error('Error saving chat history:', error);
            }
        }

        // Load chat history
        function loadChatHistory() {
            try {
                const saved = localStorage.getItem('ramzzConversations');
                if (saved) {
                    conversations = JSON.parse(saved);
                    updateChatHistory();
                }
            } catch (error) {
                console.error('Error loading chat history:', error);
            }
        }

        // Handle logout
        function handleLogout() {
            if (confirm('Apakah Anda yakin ingin keluar?')) {
                localStorage.removeItem('ramzzUser');
                window.location.href = 'login.html';
            }
        }

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>